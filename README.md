# 🎨 エモイロ (Emoiro) - 感情記録Webアプリケーション

エモイロは、日々の感情を美しく記録・可視化するWebアプリケーションです。あなたの心の変化を色彩豊かなパレットとして表現し、感情の傾向を振り返ることができます。

![エモイロのイメージ](https://via.placeholder.com/800x400/6C63FF/FFFFFF?text=Emoiro+-+%E6%84%9F%E6%83%85%E8%A8%98%E9%8C%B2%E3%82%A2%E3%83%97%E3%83%AA)

## ✨ 特徴

- **直感的な感情記録**: 7種類の感情カテゴリから選択して簡単に記録
- **美しい可視化**: 感情を色とアイコンで表現し、カラーパレットとして表示
- **多様な表示方法**: カレンダー、タイムライン、分析グラフで過去の記録を振り返り
- **ローカル完結**: インターネット接続不要でプライベートに記録を保存
- **モダンなデザイン**: レスポンシブ対応で美しいユーザーインターフェース

## 🎯 対応感情カテゴリ

| 感情 | アイコン | 色 | 説明 |
|------|----------|-----|------|
| 喜び | 😊 | 金色 | 幸せや楽しい気持ち |
| 怒り | 😠 | 赤色 | イライラや怒りの感情 |
| 悲しみ | 😢 | 青色 | 悲しい・落ち込んだ気持ち |
| 穏やか | 😌 | 緑色 | 平穏で安らかな心境 |
| 興奮 | 🤩 | オレンジ色 | わくわく・ドキドキした気持ち |
| 不安 | 😰 | 紫色 | 心配や不安な気持ち |
| 愛情 | 😍 | ピンク色 | 愛や慈しみの感情 |

## 🛠️ 技術スタック

- **バックエンド**: Python 3.7+ (Flask)
- **データベース**: SQLite
- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)
- **チャート**: Chart.js
- **フォント**: Noto Sans JP (Google Fonts)

## 📋 システム要件

- Python 3.7以上
- Webブラウザ（Chrome, Firefox, Safari, Edge）

## 🚀 セットアップ方法

### 1. リポジトリのクローンまたはダウンロード

```bash
# GitHubからクローンする場合
git clone https://github.com/yourusername/emoiro.git
cd emoiro

# または、ZIPファイルをダウンロードして展開
```

### 2. 仮想環境の作成（必須）

```bash
# 仮想環境を作成
python -m venv emoiro_env

# 仮想環境を有効化
# Windows の場合:
emoiro_env\Scripts\activate

# macOS/Linux の場合:
source emoiro_env/bin/activate

# 仮想環境が有効になっていることを確認（プロンプトに(emoiro_env)が表示される）
```

### 3. 依存関係のインストール

```bash
# requirements.txtを使用する場合（推奨）
pip install -r requirements.txt

# または、個別にインストール
pip install Flask
```

### 4. アプリケーションの起動

```bash
# 仮想環境が有効化されていることを確認してから実行
python app.py
```

### 5. ブラウザでアクセス

ブラウザで `http://localhost:5000` にアクセスしてください。

### 6. アプリケーションの停止

```bash
# アプリケーションを停止する場合: Ctrl+C

# 仮想環境を無効化する場合
deactivate
```

## 📁 ディレクトリ構造

```
emoiro/
├── app.py                 # メインアプリケーションファイル
├── emoiro.db             # SQLiteデータベース（初回起動時に自動作成）
├── templates/            # HTMLテンプレート
│   ├── base.html         # ベーステンプレート
│   ├── index.html        # ホームページ
│   ├── record.html       # 感情記録ページ
│   └── history.html      # 履歴ページ
├── static/               # 静的ファイル
│   ├── style.css         # メインスタイルシート
│   └── script.js         # JavaScriptファイル
└── README.md            # このファイル
```

## 🎮 使い方

### 1. 感情の記録

1. ホームページで「今日の感情を記録する」ボタンをクリック
2. 日付を選択（デフォルトは今日）
3. 7つの感情から今の気持ちに最も近いものを選択
4. 任意でメモを入力
5. 「記録する」ボタンで保存

### 2. 履歴の確認

**カレンダービュー**
- 月ごとのカレンダーで過去の記録を一覧表示
- 各日付は記録した感情の色で表示

**タイムライン**
- 時系列で記録を確認
- 各エントリの編集・削除が可能

**分析**
- 感情の分布をドーナツチャートで表示
- 記録の推移を折れ線グラフで可視化
- 統計サマリー（総記録数、最頻感情、連続記録日数）

### 3. キーボードショートカット

- `Ctrl/Cmd + N`: 新しい記録を作成
- `Ctrl/Cmd + H`: 履歴ページを開く
- `Esc`: ホームページに戻る

## 🔧 カスタマイズ

### 感情カテゴリの追加・変更

`app.py` の `EMOTIONS` 辞書を編集することで、感情カテゴリを変更できます：

```python
EMOTIONS = {
    'new_emotion': {
        'name': '新しい感情', 
        'color': '#HEX_COLOR', 
        'icon': '😀'
    }
}
```

### スタイルの変更

`static/style.css` のCSS変数を変更することで、アプリのテーマカラーを変更できます：

```css
:root {
    --primary-color: #6C63FF;    /* メインカラー */
    --secondary-color: #4ECDC4;  /* サブカラー */
    /* その他の色設定... */
}
```

## 🗄️ データベース構造

### emotions テーブル

| カラム名 | データ型 | 説明 |
|----------|----------|------|
| id | INTEGER | 主キー（自動増分） |
| date | TEXT | 記録日（YYYY-MM-DD形式） |
| emotion_type | TEXT | 感情タイプ |
| note | TEXT | メモ（任意） |
| created_at | TIMESTAMP | 作成日時 |

## 🛡️ セキュリティ

- ローカル実行のため、データは外部に送信されません
- SQLインジェクション対策済み
- XSS攻撃対策としてHTMLエスケープを実装

## 🔄 バックアップとリストア

### データのバックアップ

```bash
# データベースファイルをコピー
cp emoiro.db emoiro_backup_$(date +%Y%m%d).db
```

### データのリストア

```bash
# バックアップファイルを元の名前にコピー
cp emoiro_backup_YYYYMMDD.db emoiro.db
```

## 🐛 トラブルシューティング

### よくある問題と解決方法

**1. アプリが起動しない**
```bash
# Flaskがインストールされているか確認
pip list | grep Flask

# 再インストール
pip install --upgrade Flask
```

**2. データベースエラーが発生する**
```bash
# データベースファイルを削除して再作成
rm emoiro.db
python app.py
```

**3. ブラウザでページが表示されない**
- ファイアウォールの設定を確認
- 他のアプリケーションがポート5000を使用していないか確認
- ブラウザのキャッシュをクリア

**4. スタイルが正しく表示されない**
- ブラウザのキャッシュをクリア
- 開発者ツールでCSS/JSファイルが正しく読み込まれているか確認

**エモイロで、あなたの感情を美しく記録しましょう！** ✨

---

*最終更新: 2025年*